<div class="min-h-screen flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-md">
    <div class="mb-8 flex flex-col items-center justify-center gap-3">
      <div class="flex items-center gap-3">
        <div class="relative w-8 h-10">
          <img ngSrc="/images/logo/logo-g.png" alt="Company Logo" fill class="w-8 h-10" />
        </div>
        <span class="font-bold text-2xl text-gray-900">Se connecter</span>
      </div>
    </div>
    @if (isCheckingAuth()) {
      <div class="auth-checking-overlay">
        <div class="auth-checking-content">
          <div class="auth-checking-spinner">
            <svg viewBox="0 0 50 50">
              <defs>
                <linearGradient id="spinner-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="theme('colors.primary.400')" />
                  <stop offset="100%" stop-color="theme('colors.primary.600')" />
                </linearGradient>
              </defs>
              <circle class="spinner-track" cx="25" cy="25" r="20" />
              <circle class="spinner-arc" cx="25" cy="25" r="20" />
            </svg>
          </div>
          <div class="auth-checking-text">
            <span class="auth-checking-title">
              Vérification de votre session
              <span class="auth-checking-dots">
                <span></span>
                <span></span>
                <span></span>
              </span>
            </span>
          </div>
        </div>
      </div>
    } @else {
      <div class="p-8 bg-white rounded-2xl shadow-xl shadow-gray-900/5 border border-gray-100 overflow-hidden">
        <form [formGroup]="form" class="flex flex-col gap-5" (ngSubmit)="onSignIn()" novalidate>
          <app-ui-input
            [id]="'email'"
            label="Adresse email"
            type="email"
            formControlName="email"
            placeholder="votre@email.com"
            [invalid]="(form.get('email')?.invalid && form.get('email')?.touched) || false" />
          <app-ui-password
            label="Mot de passe"
            [id]="'password'"
            formControlName="password"
            placeholder="••••••••"
            [invalid]="(form.get('password')?.invalid && form.get('password')?.touched) || false" />
          <div class="mt-2 flex flex-col gap-5">
            <app-ui-button
              class="w-full"
              type="submit"
              [variant]="'primary'"
              [disabled]="store.isLoading() || form.invalid"
              [loading]="store.isLoading()">
              Se connecter
            </app-ui-button>
            <div class="flex items-center">
              <div class="flex-auto border-t border-gray-200"></div>
              <div class="text-sm text-gray-600 mx-4">Ou</div>
              <div class="flex-auto border-t border-gray-200"></div>
            </div>
            <app-ui-button [variant]="'outlined'" class="w-full" type="button" (click)="signinWithGoogle()">
              <div class="relative h-5 w-5">
                <img ngSrc="/images/google.svg" alt="Google" fill />
              </div>
              <span class="-ml-2">oogle</span>
            </app-ui-button>
          </div>
        </form>
      </div>
    }
  </div>
</div>
