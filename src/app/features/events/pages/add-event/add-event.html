<section class="pt-32 dashboard-main-content flex flex-col gap-6">
  <form class="w-full" [formGroup]="form" (ngSubmit)="onAddEvent()">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
      <app-ui-input
        [id]="'name'"
        label="Titre de l'événement"
        [required]="true"
        formControlName="name"
        placeholder="Ex: Atelier de formation entrepreneuriale" />
      <app-ui-input
        [id]="'place'"
        label="Lieu de l'événement"
        formControlName="place"
        placeholder="Ex: Kinshasa, RDC" />
      <app-ui-input
        [id]="'duration_hours'"
        label="Durée estimée (en heures)"
        formControlName="duration_hours"
        placeholder="Ex: 8" />
      <app-ui-select
        [id]="'program'"
        label="Programme associé"
        [filter]="true"
        [optionLabel]="'name'"
        [optionValue]="'id'"
        [options]="programsStore.allSubprograms()"
        formControlName="program"
        placeholder="Sélectionner un programme" />
      <app-ui-select
        [id]="'event_manager'"
        label="Responsable de l'événement"
        [optionLabel]="'name'"
        [optionValue]="'id'"
        [options]="usersStore.staff()"
        formControlName="event_manager"
        placeholder="Sélectionner un responsable" />

      <app-ui-multi-select
        [id]="'categories'"
        [options]="categoriesStore.allCategories()"
        [optionValue]="'id'"
        [optionLabel]="'name'"
        formControlName="categories"
        placeholder="Choisir une ou plusieurs catégories" />
      <app-ui-datepicker
        [id]="'started_at'"
        label="Date de début"
        showIcon
        iconDisplay="input"
        formControlName="started_at" />
      <app-ui-datepicker
        [id]="'ended_at'"
        label="Date de fin"
        showIcon
        iconDisplay="input"
        formControlName="ended_at" />
      <div class="grid grid-cols-1 gap-6 col-span-2">
        <app-ui-textarea
          [id]="'description'"
          [rows]="6"
          label="Présentation générale"
          [required]="true"
          formControlName="description"
          placeholder="Présentez l'événement de manière claire et concise..." />
        <app-ui-textarea
          [id]="'selection_criteria'"
          [rows]="6"
          label="Critères d'éligibilité"
          formControlName="selection_criteria"
          placeholder="Définissez les conditions d'accès et les prérequis..." />
      </div>
    </div>
    <div class="flex justify-end gap-3 mt-8 pt-6 border-t border-gray-200">
      <app-ui-button
        [size]="'small'"
        [loading]="eventsStore.isLoading()"
        [disabled]="eventsStore.isLoading() || form.invalid"
        variant="primary"
        type="submit">
        Créer l'événement
      </app-ui-button>
    </div>
  </form>
</section>
