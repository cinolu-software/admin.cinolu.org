<div class="space-y-6">
  <div class="w-full md:w-1/2 lg:w-1/3">
    <p class="font-semibold text-sm text-gray-800 mb-1.5">Photo de profil</p>
    <ui-file-upload [name]="'profile'" [url]="url" (loaded)="onLoaded()" />
  </div>
  <form
    [formGroup]="infoForm"
    (ngSubmit)="onUpdateInfo()"
    class="flex flex-col gap-6 border border-gray-200 rounded-xl p-6">
    <div class="flex flex-col gap-6">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <ui-input [id]="'name'" label="Nom complet" formControlName="name" placeholder="Entrez votre nom complet" />
        <ui-select
          [id]="'gender'"
          label="Genre"
          [options]="genderOptions"
          formControlName="gender"
          placeholder="Sélectionner votre genre" />
        <ui-datepicker
          [id]="'birth_date'"
          label="Date de naissance"
          formControlName="birth_date"
          placeholder="JJ/MM/AAAA" />
      </div>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <ui-input
          [id]="'email'"
          label="Adresse e-mail"
          type="email"
          formControlName="email"
          placeholder="exemple@mail.com" />
        <ui-input
          [id]="'phone_number'"
          label="Numéro de téléphone"
          formControlName="phone_number"
          placeholder="+243 XXX XXX XXX" />
      </div>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <ui-input
          [id]="'country'"
          label="Pays"
          formControlName="country"
          placeholder="Ex: République Démocratique du Congo" />
        <ui-input [id]="'city'" label="Ville" formControlName="city" placeholder="Ex: Kinshasa" />
      </div>
      <ui-textarea
        [id]="'biography'"
        label="Biographie"
        formControlName="biography"
        placeholder="Parlez un peu de vous..." />
    </div>
    <div class="flex justify-end gap-3 pt-8 mt-8 border-t border-gray-200">
      <ui-button
        size="small"
        [loading]="infoStore.isLoading()"
        [disabled]="infoStore.isLoading() || infoForm.invalid"
        variant="primary"
        type="submit">
        Mettre à jour
      </ui-button>
    </div>
  </form>
  <div class="bg-white rounded-xl p-8 shadow-sm border border-gray-200">
    <form [formGroup]="passwordForm" (ngSubmit)="onUpdatePassword()">
      <div class="space-y-6">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
          <ui-input
            [id]="'password'"
            label="Nouveau mot de passe"
            type="password"
            formControlName="password"
            autocomplete="new-password"
            placeholder="Entrez votre nouveau mot de passe"
            [invalid]="(passwordForm.get('password')?.invalid && passwordForm.get('password')?.touched) || false" />
          <ui-input
            [id]="'password_confirm'"
            label="Confirmer le mot de passe"
            type="password"
            formControlName="password_confirm"
            autocomplete="new-password"
            placeholder="Confirmez votre mot de passe"
            [invalid]="
              (passwordForm.get('password_confirm')?.invalid && passwordForm.get('password_confirm')?.touched) || false
            " />
        </div>
      </div>
      <div class="flex justify-end gap-3 pt-8 mt-8 border-t border-gray-200">
        <ui-button
          size="small"
          [loading]="passwordStore.isLoading()"
          [disabled]="passwordStore.isLoading() || passwordForm.invalid"
          variant="danger"
          type="submit"
          aria-label="Modifier le mot de passe">
          Modifier le mot de passe
        </ui-button>
      </div>
    </form>
  </div>
</div>
